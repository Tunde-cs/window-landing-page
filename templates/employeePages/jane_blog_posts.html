{% extends "base/adminbase.html" %}

{% block page_content %}
<div class="container py-4">

  <!-- ✅ Header with New Post Button -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Blog Posts by {{ author_name }}</h2>
    <a href="{% url 'new_blog_post' %}" class="btn btn-primary">
      <i class="bi bi-plus-circle me-1"></i> New Post
    </a>
  </div>

  <!-- ✅ Blog Post List -->
  {% if posts %}
    <ul class="list-group">
      {% for post in posts %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <a href="{% url 'blog_detail' post.slug %}" class="fw-semibold">{{ post.title }}</a><br>
            <small class="text-muted">{{ post.published_at|date:"F j, Y" }}</small>
          </div>
          <div>
            <a href="{% url 'edit_blog_post' post.id %}" class="btn btn-sm btn-outline-secondary">
              <i class="fas fa-edit me-1"></i> Edit
            </a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted">No blog posts found.</p>
  {% endif %}

</div>
{% endblock %}
