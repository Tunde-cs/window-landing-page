<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8PB2K8NTLM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
  
      gtag('config', 'G-8PB2K8NTLM', {
        'allow_ad_personalization_signals': true
     });
    </script>

    
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    
    <!-- ✅ SEO Meta Tags -->
    <meta name="description" content="Premium window replacement services. Affordable, energy-efficient, and stylish solutions to enhance your home's look and functionality." />
    <meta name="keywords" content="window replacement, energy-efficient windows, custom windows, stylish windows, home improvement, free window quote" />
    <meta name="author" content="Window Genius Ai" />
    
    
    <!-- ✅ Google Site Verification -->
    <meta name="google-site-verification" content="126635fbdb4f1c73" />

    <!-- ✅ Favicon & Apple Icon -->
    <link rel="icon" href="{% static 'assets/favicon.ico' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'assets/favicon-32x32.png' %}" sizes="32x32">
    <link rel="icon" href="{% static 'assets/favicon-16x16.png' %}" sizes="16x16">
    <link rel="apple-touch-icon" href="{% static 'assets/apple-touch-icon.png' %}">


    <!-- ✅ Font Awesome & Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- ✅ Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous">


    <!-- ✅ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet" />
    
    <!-- ✅ Font Awesome for Facebook and Instagram icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">


    <!-- ✅ Custom Styles -->
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
    <link href="{% static 'css/custom.css' %}" rel="stylesheet" />
    <link href="{% static 'css/chatbot.css' %}" rel="stylesheet" />

    {% block head %}{% endblock %}

    {% if request.user.is_authenticated and request.user.is_staff %}
        <!-- ✅ AdminLTE Styles (Only for Admin Staff) -->
        <link rel="stylesheet" href="{% static 'admin/dist/css/adminlte.min.css' %}">
        <link rel="stylesheet" href="{% static 'admin/plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
    {% endif %}

    <title>{% block title %}{% if request.user.is_staff %}Admin Panel{% else %}Window Replacement{% endif %}{% endblock %}</title>

    <style>
        html {
          scroll-behavior: smooth;
        }
        </style>
</head>

<body class="{% block body_class %}landing-page{% endblock %}">
    <div class="d-flex flex-column min-vh-100">

        {% block header %}
            {% if request.path == "/" or request.path == "/signup/" or request.path == "/accounts/login/" %}
                {% include 'includes/header.html' %}
            {% endif %}
        {% endblock %}

        <main class="flex-fill">
            <div class="container-fluid py-4 page-wrapper">
              {% block content %}{% endblock %}
            </div>
        </main>
          
        <!-- ✅ Footer should be properly positioned -->
        {% block footer %}
            {% include 'includes/footer.html' %}
        {% endblock %}
    </div>

    <!-- ✅ Core JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/scripts.js' %}"></script>
    

    {% if request.user.is_staff and "/useradmin/" in request.path %}
        <!-- ✅ AdminLTE JS (Only for Staff in Admin Panel) -->
        <script src="{% static 'admin/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
        <script src="{% static 'admin/dist/js/adminlte.js' %}"></script>
    {% endif %}

    {% if not request.user.is_staff and request.path == '/' %}
        <!-- ✅ Chatbot Script for Visitors -->
        <script src="{% static 'js/chatbot.js' %}"></script>
    {% endif %}

    {% block scripts %}{% endblock %}
</body>
</html>
