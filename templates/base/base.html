<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Premium window replacement services. Affordable, energy-efficient, and stylish solutions to enhance your home's look and functionality." />
    <meta name="keywords" content="window replacement, energy-efficient windows, custom windows, stylish windows, home improvement, free window quote" />
    <meta name="author" content="Your Company Name" />
    <meta name="robots" content="index, follow" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet" />

    <!-- ✅ Core Theme CSS -->
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
    <link href="{% static 'css/custom.css' %}" rel="stylesheet">

    {% if request.user.is_staff %}
        <!-- ✅ Load AdminLTE Styles (For Admin Users Only) -->
        <link rel="stylesheet" href="{% static 'admin/dist/css/adminlte.min.css' %}">
        <link rel="stylesheet" href="{% static 'admin/plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
    {% endif %}

    <title>{% if request.user.is_staff %}Admin Panel{% else %}Window Replacement{% endif %}</title>
    
</head>
<!-- ✅ Body: Full Layout for Admin, No Sidebar for Landing Page -->
<body class="{% if request.user.is_staff %} hold-transition sidebar-mini layout-fixed {% else %} landing-page-body {% endif %}">

    <!-- ✅ Ensure the sidebar only appears in the admin panel -->
    {% if request.user.is_staff and '/useradmin/' in request.path %}
        {% include 'includes/adminsidebar.html' %}
    {% endif %}

    <!-- ✅ Ensure the navbar appears ONLY on footer-linked pages -->
    {% if request.path == "/signup/" or request.path == "/accounts/login/" or request.path == "/" %}
        {% include 'includes/header.html' %}
    {% endif %}

    <!-- ✅ Main Content -->
    <div class="container-fluid mt-3">
        <div class="row justify-content-center">
            <div class="col-xl-11 col-lg-12">  <!-- ✅ Adjusted Width to Reduce Side Space -->
                <div class="border border-primary rounded shadow p-3 bg-white">  <!-- ✅ Smaller padding -->
                    <main class="{% if request.user.is_staff and '/useradmin/' in request.path %} content-wrapper {% else %} landing-content {% endif %}">
                        {% block content %}
                        {% endblock content %}
                    </main>


                </div>
            </div>
        </div>
    </div>

<!-- ✅ Footer should be properly positioned -->
{% block footer %}
    {% include 'includes/footer.html' %}
{% endblock %}

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Bootstrap core JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    {% if request.user.is_staff and "/useradmin/" in request.path %}
        <!-- ✅ Load AdminLTE Scripts (Only for Admin Users Inside the Admin Panel) -->
        <script src="{% static 'admin/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
        <script src="{% static 'admin/dist/js/adminlte.js' %}"></script>
    {% endif %}

    <!-- Core theme JS -->
    <script src="{% static 'js/scripts.js' %}"></script>

    {% if not request.user.is_staff and request.path == '/' %}
    <!-- ✅ Chatbot Integration (For Landing Page Only) -->
    <script>
        console.log('Chatbot script goes here');
    </script>
    {% endif %}
</body>
</html>

